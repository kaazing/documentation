<!DOCTYPE html>
<html>

<head>

  <meta charset="UTF-8" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Kaazing.com - Kaazing WebSocket Gateway 5 Docs</title>
    <link rel="icon" href="../../img/favicon.ico">

  <link href='//fonts.googleapis.com/css?family=Muli:300,400' rel='stylesheet' type='text/css'>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../assets/font-awesome-4.1.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="../../css/pygments.css">
  <link rel="stylesheet" href="../../css/main.css">
  <link rel="stylesheet" href="../../css/syntax.css">
  <link rel="stylesheet" href="../../css/doc.css">
  <link rel="stylesheet" href="../../css/mega-menu.css">

  


<!-- +++++++++++++++Syntax Highlighter Calls++++++++++++++++ -->

<!-- Include required SyntaxHighlighter JS files -->
<script type="text/javascript" src="../../resources/xregexp.js"></script>
<script type="text/javascript" src="../../resources/shCore.js"></script>


<!--Include SyntaxHighlighter brushes. To test, using the JS brush -->
<script type="text/javascript" src="../../resources/shBrushJava.js"></script>
<script type="text/javascript" src="../../resources/shBrushAS3.js"></script>
<script type="text/javascript" src="../../resources/shBrushVb.js"></script>
<script type="text/javascript" src="../../resources/shBrushJScript.js"></script>
<script type="text/javascript" src="../../resources/shBrushCss.js"></script>
<script type="text/javascript" src="../../resources/shBrushPython.js"></script>
<script type="text/javascript" src="../../resources/shBrushXml.js"></script>

<!-- Include SyntaxHighlighter core style and Kaazing theme -->
<link href="../../resources/shCore.css" rel="stylesheet" type="text/css" />
<link href="../../resources/shThemeKaazing.css" rel="stylesheet" type="text/css" />

<!-- Finally, call SyntaxHighlighter -->
<script type="text/javascript">
   SyntaxHighlighter.all()
</script>

<!-- +++++++++++++++END OF Syntax Highlighter Calls++++++++++++++++ -->
<!-- +++++++++++++++Syntax Highlighter Calls++++++++++++++++ -->

<!-- Include required SyntaxHighlighter JS files -->
<script type="text/javascript" src="../../resources/xregexp.js"></script>
<script type="text/javascript" src="../../resources/shCore.js"></script>


<!--Include SyntaxHighlighter brushes. To test, using the JS brush -->
<script type="text/javascript" src="../../resources/shBrushJava.js"></script>
<script type="text/javascript" src="../../resources/shBrushAS3.js"></script>
<script type="text/javascript" src="../../resources/shBrushVb.js"></script>
<script type="text/javascript" src="../../resources/shBrushJScript.js"></script>
<script type="text/javascript" src="../../resources/shBrushCss.js"></script>
<script type="text/javascript" src="../../resources/shBrushPython.js"></script>
<script type="text/javascript" src="../../resources/shBrushXml.js"></script>

<!-- Include SyntaxHighlighter core style and Kaazing theme -->
<link href="../../resources/shCore.css" rel="stylesheet" type="text/css" />
<link href="../../resources/shThemeKaazing.css" rel="stylesheet" type="text/css" />

<!-- Finally, call SyntaxHighlighter -->
<script type="text/javascript">
   SyntaxHighlighter.all()
</script>

<!-- search code -->
<!-- at the end of the HEAD -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
</head>

<body>

    <!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="//kaazing.com"><img id="kaazing-logo-header" src="../../img/Kaazing.png" alt="Kaazing.com"></img></a>
		</div>
		<div id="navbar" class="navbar-collapse collapse">
   <link rel="stylesheet" href="../../css/new-search.css">
   <input type="text" autocomplete='on' class='searchbox' id='searchbox' placeholder="Search the docs">
   <ul class="nav navbar-nav navbar-right" id="megamenu">
   <script>
   $( "#megamenu" ).load( "../../includes/megamenu.html" );
   </script>
   </ul>
		</div><!--/.nav-collapse -->
	</div>
</nav>

<div id="diagnostic">
</div>


<div class="container page-content text-left">


 <h1 id="monitor-and-manage-an-embedded-gateway">Monitor and Manage an Embedded Gateway</h1>

<p>By default, an embedded Gateway uses the &lt;management&gt; element in the Gateway configuration file for its management configuration. By using this element, you can track and manage user sessions using Javaâ€™s built-in Java Management and Monitoring Console (<a href="//docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html">JConsole</a>) and the management service configured on the Gateway. This is the same configuration used by the Gateway when it is run as a standalone application, system service, or as an embedded service.</p>

<p>You can override the default management configuration using an MBean server on an embedded Gateway. The embedded Gateway will populate the MBean server you specify with information about configured services and current sessions connected to the Gateway.</p>

<p>For detailed information on monitoring the Gateway, see <a href="../../management/o_monitor/index.html">Monitor the Gateway</a>.</p>

<h2 id="before-you-begin">Before You Begin</h2>

<p>This procedure is part of <a href="../o_embedded_gateway">Embed Kaazing Gateway in Your Java Application</a>:</p>

<ol>
  <li><a href="../p_embedded_gateway_setup">Set Up Your Development Environment</a></li>
  <li><a href="../p_embedded_gateway_object">Create the Embedded Gateway Object</a></li>
  <li><a href="../p_embedded_gateway_methods">Use the Embedded Gateway Methods</a></li>
  <li><a href="../p_embedded_gateway_logging">Configure Logging for an Embedded Gateway</a></li>
  <li><strong>Monitor and Manage an Embedded Gateway</strong></li>
  <li><a href="../p_embedded_gateway_troubleshoot">Troubleshoot Your Embedded Gateway</a></li>
</ol>

<h2 id="to-configure-the-embedded-gateway-to-use-a-different-mbean-server">To Configure the Embedded Gateway to Use a Different MBean server</h2>

<ol>
  <li>Remove the <code>&lt;management&gt;</code> element from the Gateway configuration file (<code>GATEWAY_HOME/conf/gateway-config.xml</code>).</li>
  <li>Use the <code>setMBeanServer()</code> method in your Java application to specify an MBean server for the embedded Gateway.</li>
</ol>

<h3 id="syntax-and-example">Syntax and Example</h3>

<p><code>void setMBeanServer(javax.management.MBeanServer server)</code></p>

<p>The <code>server</code> argument is the MBean server the embedded Gateway will populate with its management information.</p>

<p>Here is an example of how to create a registry, an MBean server, and a connector and then pass the MBean server to the embedded Gateway:</p>

<pre class="auto-links: false; brush: java; toolbar: false;">
import javax.management.*;
import java.lang.management.*;
import javax.management.remote.*;

import org.kaazing.gateway.server.GatewayFactory;
import org.kaazing.gateway.server.Gateway;

public class SimpleAgent {
  private MBeanServer mbs = null;

  public init() {
    try {
      // Create the RMI Registry
      LocateRegistry.createRegistry(9999);

      // Get the platform MBeanServer
      mbs = ManagementFactory.getPlatformMBeanServer();

      // Create an RMI connector and start it
      JMXServiceURL url =
      new JMXServiceURL("service:jmx:rmi:///jndi/rmi://localhost:9999/server");
      JMXConnectorServer cs = JMXConnectorServerFactory.newJMXConnectorServer(url, null, mbs);
      cs.start();

      // Unique identification of MBeans
      Hello helloBean = new Hello();
      ObjectName helloName = null;

      // Uniquely identify the MBeans and register them with the MBeanServer
      helloName = new ObjectName("SimpleAgent:name=hellothere");
      mbs.registerMBean(helloBean, helloName);

      // Create the Gateway, set the MBeanServer, and launch the Gateway
      Gateway gw = GatewayFactory.createGateway();
      gw.setMBeanServer(mbs);
      gw.launch();
    } catch(Exception e) {
      e.printStackTrace();
    }
  }

  public static void main(String argv[]) {
    SimpleAgent agent = new SimpleAgent();
    agent.init();
    System.out.println("SimpleAgent is running...");
  }
}
</pre>

<h2 id="next-steps">Next Steps</h2>

<p><a href="../p_embedded_gateway_troubleshoot">Troubleshoot Your Embedded Gateway</a></p>


</div>

</div>


    <footer>
  <div class="container">

    <div class="row text-center social-media">
      <a href="https://github.com/kaazing"><i class="fa fa-github" data-toggle="tooltip" data-placement="top" title="Github"></i></a>
      <a href="https://www.facebook.com/kaazing"><i class="fa fa-facebook" data-toggle="tooltip" data-placement="top" title="Facebook"></i></a>&nbsp;
      <a href="https://twitter.com/kaazing"><i class="fa fa-twitter" data-toggle="tooltip" data-placement="top" title="Twitter"></i></a>&nbsp;
      <a href="https://plus.google.com/+KaazingHome"><i class="fa fa-google-plus" data-toggle="tooltip" data-placement="top" title="Google Plus"></i></a>&nbsp;
      <a href="https://www.youtube.com/user/KaazingTV"><i class="fa fa-youtube" data-toggle="tooltip" data-placement="top" title="Youtube"></i></a>&nbsp;
      <a href="https://www.linkedin.com/company/kaazing-corporation"><i class="fa fa-linkedin" data-toggle="tooltip" data-placement="top" title="Linkedin"></i></a>&nbsp;
    </div>

    <div class="row copyright">
      <div class="col-xs-12 col-sm-5 text-left">
        &copy; 2007-2016 Kaazing Corporation
      </div>
      <div class="col-xs-12 col-sm-7 license">
        This website is licensed under <a href="//creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons BY-NC-SA</a>
      </div>
    </div>

  </div>
</footer>

<!-- start:javascript for this page -->










<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1771436-1', 'auto');
  ga('send', 'pageview');
  </script>
  <!-- end:javascript for this page -->


<script src="../../resources/permalink.js"></script>

<!-- search code -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'd1e3ab8cc2a230ef8270aeef0a05e584',
indexName: 'kaazing',
inputSelector: '.searchbox',
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
