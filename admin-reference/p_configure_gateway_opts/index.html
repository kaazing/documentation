<!DOCTYPE html>
<html>

<head>

  <meta charset="UTF-8" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Kaazing.com - Kaazing WebSocket Gateway 5 Docs</title>
    <link rel="icon" href="../../img/favicon.ico">

  <link href='//fonts.googleapis.com/css?family=Muli:300,400' rel='stylesheet' type='text/css'>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../assets/font-awesome-4.1.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="../../css/pygments.css">
  <link rel="stylesheet" href="../../css/main.css">
  <link rel="stylesheet" href="../../css/syntax.css">
  <link rel="stylesheet" href="../../css/doc.css">
  <link rel="stylesheet" href="../../css/mega-menu.css">

  


<!-- +++++++++++++++Syntax Highlighter Calls++++++++++++++++ -->

<!-- Include required SyntaxHighlighter JS files -->
<script type="text/javascript" src="../../resources/xregexp.js"></script>
<script type="text/javascript" src="../../resources/shCore.js"></script>


<!--Include SyntaxHighlighter brushes. To test, using the JS brush -->
<script type="text/javascript" src="../../resources/shBrushJava.js"></script>
<script type="text/javascript" src="../../resources/shBrushAS3.js"></script>
<script type="text/javascript" src="../../resources/shBrushVb.js"></script>
<script type="text/javascript" src="../../resources/shBrushJScript.js"></script>
<script type="text/javascript" src="../../resources/shBrushCss.js"></script>
<script type="text/javascript" src="../../resources/shBrushPython.js"></script>
<script type="text/javascript" src="../../resources/shBrushXml.js"></script>

<!-- Include SyntaxHighlighter core style and Kaazing theme -->
<link href="../../resources/shCore.css" rel="stylesheet" type="text/css" />
<link href="../../resources/shThemeKaazing.css" rel="stylesheet" type="text/css" />

<!-- Finally, call SyntaxHighlighter -->
<script type="text/javascript">
   SyntaxHighlighter.all()
</script>

<!-- search code -->
<!-- at the end of the HEAD -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
</head>

<body>

    <!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="//kaazing.com"><img id="kaazing-logo-header" src="../../img/Kaazing.png" alt="Kaazing.com"></img></a>
		</div>
		<div id="navbar" class="navbar-collapse collapse">
   <link rel="stylesheet" href="../../css/new-search.css">
   <input type="text" autocomplete='on' class='searchbox' id='searchbox' placeholder="Search the docs">
   <ul class="nav navbar-nav navbar-right" id="megamenu">
   <script>
   $( "#megamenu" ).load( "../../includes/megamenu.html" );
   </script>
   </ul>
		</div><!--/.nav-collapse -->
	</div>
</nav>

<div id="diagnostic">
</div>


<div class="container page-content text-left">


 <h1 id="configure-kaazing-gateway-using-the-gatewayopts-environment-variable">Configure Kaazing Gateway Using the GATEWAY_OPTS Environment Variable</h1>

<p>On occasion you might want the flexibility to change the configuration that is set up in your Gateway configuration file (see <a href="../c_configure_gateway_concepts#about-kaazing-gateway-configuration-files">About Kaazing Gateway Configuration Files</a>) or change the Java process temporarily without modifying the configuration file itself. For example, you might want to define your own startup scripts that specify different log4j configurations or different log directories. You can do that by setting the <code>GATEWAY_OPTS</code> environment variable (or any other Java option or command-line setting) to include any of the properties in the following table:</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>GATEWAY_HOME</code></td>
      <td>The directory path for the Gateway home</td>
    </tr>
    <tr>
      <td><code>GATEWAY_CONFIG</code></td>
      <td>The name of the Gateway configuration file</td>
    </tr>
    <tr>
      <td><code>GATEWAY_CONFIG_DIRECTORY</code></td>
      <td>The path for the Gateway configuration directory</td>
    </tr>
    <tr>
      <td><code>GATEWAY_WEB_DIRECTORY</code></td>
      <td>The path for the Gateway web directory</td>
    </tr>
    <tr>
      <td><code>GATEWAY_TEMP_DIRECTORY</code></td>
      <td>The path for the Gateway temp files directory</td>
    </tr>
    <tr>
      <td><code>GATEWAY_LOG_DIRECTORY</code></td>
      <td>The path for the Gateway logfiles directory</td>
    </tr>
    <tr>
      <td><code>GATEWAY_USER_LIB_DIRECTORY</code></td>
      <td>The path for the Gateway user library files</td>
    </tr>
    <tr>
      <td><code>LOG4J_CONFIG</code></td>
      <td>The name and path for the Gateway log4j configuration file</td>
    </tr>
    <tr>
      <td><code>GATEWAY_FEATURES</code></td>
      <td>A comma-separated list of values that lists the Early Access features. For more information, see <a href="#enable-early-access-features">Enable Early Access Features</a>.</td>
    </tr>
  </tbody>
</table><br>

<p>For <code>GATEWAY_OPTS</code> environment variable examples, see <a href="#gatewayopts-environment-variable-examples"><code>GATEWAY_OPTS</code> Environment Variable Examples</a> below.</p>

<h2 id="before-you-begin">Before You Begin</h2>

<p>This procedure is part of <a href="../o_configure_gateway_checklist">Configure the Gateway</a>:</p>

<ul>
  <li><a href="../p_configure_gateway_files">Configure Kaazing Gateway</a></li>
  <li><strong>Configure Kaazing Gateway Using the <code>GATEWAY_OPTS</code> Environment Variables</strong></li>
  <li>Verify the Gateway configuration following the instructions for your deployment in <a href="../../about/setup-guide/index.html">Setting Up the Gateway</a></li>
</ul>

<h2 id="to-configure-the--environment-variable">To Configure the <code>GATEWAY_OPTS</code> Environment Variable</h2>

<ol>
  <li>Ensure you have followed the steps in <a href="../../about/setup-guide/index.html">Setting Up the Gateway</a> to download and install Kaazing Gateway.</li>
  <li>Ensure the Gateway is stopped.
    <ol>
      <li>To Stop the Gateway on Windows: press <strong>CTRL + C</strong> in the command prompt that was used to start the Gateway, or close the command prompt.</li>
      <li>
        <p>To Stop the Gateway on Linux, UNIX, and Mac: use the following commands (where <em>process ID</em> is the process ID of the Gateway process):</p>

        <pre><code>ps â€“ef | grep *process name*
 kill *process ID*
</code></pre>
      </li>
    </ol>
  </li>
  <li>
    <p>Specify one or more system property values using <code>-Dproperty=value</code> with the <code>GATEWAY_OPTS</code> environment variable.</p>

    <p>The environment variable <code>GATEWAY_OPTS</code> can contain a space-separated list of command-line arguments. For example, to specify the name of the Gateway configuration and the Gateway log directory at the Linux command line, specify the <code>GATEWAY_OPTS</code> environment variable as follows:</p>

    <pre><code>GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml
-DGATEWAY_LOG_DIRECTORY=/home/myname/gateway/logs"
</code></pre>

    <p>To learn more about using the <code>-Dproperty=value</code> switch on the Java command line, see the <a href="//docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html">Java Application Launcher documentation</a>.</p>

    <p><strong>Notes:</strong></p>

    <ul>
      <li>
        <p>If you define multiple <code>-Dproperty=value</code> variables then there must be a space between each variable, and you must enclose the entire value in quotes. For example:</p>

        <pre><code>GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml
-DGATEWAY_LOG_DIRECTORY=/home/my-company/gateway/logs"
</code></pre>
      </li>
      <li>
        <p>If the value of a <code>-Dproperty=value</code> variable contains spaces, then use the <strong><code>\"</code></strong> notation around the value. In the following example, the value for <code>-DGATEWAY_LOG_DIRECTORY</code> is wrapped in the <strong><code>\"</code></strong> notation because it contains spaces:</p>

        <pre><code>GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml
-DGATEWAY_LOG_DIRECTORY=\"/home/my company/gateway/logs\""
</code></pre>
      </li>
    </ul>
  </li>
  <li>
    <p>Start the Gateway.</p>

    <p>To Start the Gateway on Windows, see <a href="../../about/setup-guide/index.html">Setting Up the Gateway and Clients</a>.</p>

    <p>When you successfully start the Gateway, messages display in your shell or command prompt indicating the services that are hosted by the Gateway. The startup message may differ depending on your Gateway configuration. If the server does not start successfully, contact your administrator or see <a href="../../troubleshooting/o_troubleshoot/index.html">Troubleshoot the Gateway</a> for help finding the problem.</p>
  </li>
</ol>

<h2 id="next-step">Next Step</h2>

<p>Verify the Gateway configuration following the instructions for your deployment in <a href="../../about/setup-guide/index.html">Setting Up the Gateway</a></p>

<h2 id="notes">Notes</h2>

<ul>
  <li>Any system property values that you define with the <code>GATEWAY_OPTS</code> environment variable before starting the Gateway are used and override the values specified in the default Gateway configuration.</li>
</ul>


<h2 id="enable-early-access-features">Enable Early Access Features</h2>

<p>Early Access features are new features that are made available in Kaazing products for early access and testing purposes before they are ready for production deployments.</p>

<p>Early Access features are identified using the image <img src="../../images/early-access-feature.png" />.</p>

<span class="note"><b>Important:</b> For a list of all the Early Access features and their corresponding flags, see <a href="https://github.com/kaazing/gateway/blob/3cc522a763d332c3d544db281271902a1868b36a/util/src/main/java/org/kaazing/gateway/util/feature/EarlyAccessFeatures.java">EarlyAccessFeatures.java</a> in the Kaazing Github repo.</span><br>

<span class="note"><b>Notes:</b>
 <ul>
   <li>Early Access features should be used for development and testing purposes only. They are not supported for use in a production environment.</li>
   <li>An Early Access feature might change when it is incorporated as a completed, production-ready feature.</li>
   <li>If a Gateway configuration setting must be added to the <strong>gateway-config.xml</strong> file in order for an Early Access feature to work and you have not added the configuration setting, then the Gateway startup will fail with an error message indicating that you need to configure the Gateway for the feature.</li>
   <li>If you are using an <a href="../../embedded-gateway/o_embedded_gateway/index.html">embedded Gateway</a>, you must use the <code>GATEWAY_OPTS</code> environment variable, explained below.</li>
 </ul>
</span>

<p>To enable Early Access features, do the following:</p>

<ol>
 <li>Ensure the Gateway is stopped.</li>
 <li>Enable the feature in one of the following ways. For this example, we will specify Early Access features named <code>feature1</code>, <code>feature2</code>, and <code>feature3</code>.
  <ul>
   <li>Use the <code>GATEWAY_FEATURES</code> environment variable:
     <p>Windows Example:</p>

     <p><code>> SET GATEWAY_FEATURES=feature1, feature2, feature3</code></p>
     <p><code>> C:\Gateway\bin\gateway.start.bat</code></p>

     <p>Mac Example:</p>

     <p><code>$ export GATEWAY_FEATURES="feature1, feature2, feature3"</code><br />
     <code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>
   </li>
   <li>Use the <code>GATEWAY_OPTS</code> environment variable:
     <p>Windows Example:</p>

     <p><code>> SET GATEWAY_OPTS=-Dfeature.feature1, -Dfeature.feature2, -Dfeature.feature3</code></p>
     <p><code>> C:\Gateway\bin\gateway.start.bat</code></p>

     <p>Mac Example:</p>

     <p><code>$ export GATEWAY_OPTS="-Dfeature.feature1, -Dfeature.feature2, -Dfeature.feature3"</code><br />
     <code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>
   </li>
   <li>Use your own Java system properties:

     <p><code>java -Dfeature.feature1, -Dfeature.feature2, -Dfeature.feature3 ...</code></p>
   </li>
  </ul>
 </li>
</ol>

<p></p>

<h2 id="update-check">Update Check</h2>

<p>The Update Check feature checks to see if there are new versions of the Gateway available when the Gateway is started. New versions include patches, and minor and major releases. Update Check is enabled by default.</p>

<p>The update check output information is displayed in the log file (<code><em>GATEWAY_HOME</em>/log/error.log</code>), the terminal or command prompt screen, and the JMX console.</p>

<p>The Gateway will start regardless of whether the update check is successful. If the update check fails, then a warning is logged to the log file and terminal or command prompt screen.</p>

<p>If you do not want the Gateway to check for updates, start the Gateway using the following <code>GATEWAY_OPTS</code> environment variable:</p>

<p><code>GATEWAY_OPTS=-Dcom.kaazing.server.UPDATE_CHECK=false</code></p>

<p><span class="note"><b>Note:</b> The environment variable <code>org.kaazing.gateway.server.UPDATE_CHECK</code> is deprecated.</span></p>

<h2 id="gatewayopts-environment-variable-examples">GATEWAY_OPTS Environment Variable Examples</h2>

<h3 id="gatewayhome">GATEWAY_HOME</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_HOME=C:\Gateway\</code></p>

<p><code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_HOME=/Users/johnsmith/Desktop/Gateway/"</code><br />
<code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<h3 id="gatewayconfig">GATEWAY_CONFIG</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_CONFIG=C:\Gateway\conf\gateway-config-test.xml</code><br />
<code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Here is an alternative way to specify the configuration file:</p>

<p><code>&gt; gateway.start.bat --config C:\Gateway\conf\gateway-config-test.xml</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_CONFIG=/Users/johnsmith/Desktop/Gateway/conf/gateway-config-test.xml"</code></p>

<p><code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<p>Here is an alternative way to specify the configuration file:</p>

<p><code>./gateway.start --config /Users/johnsmith/Desktop/Gateway/conf/gateway-config-test.xml</code></p>

<h3 id="gatewayconfigdirectory">GATEWAY_CONFIG_DIRECTORY</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_CONFIG=C:\Gateway\conf\gateway-config-test.xml -DGATEWAY_CONFIG_DIRECTORY=C:\Gateway\conf</code></p>

<p><code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config-test.xml -DGATEWAY_CONFIG_DIRECTORY= \ /Users/johnsmith/Desktop/Gateway/conf"</code></p>

<p><code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<h3 id="gatewaywebdirectory">GATEWAY_WEB_DIRECTORY</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_CONFIG=C:\Gateway\conf\gateway-config.xml -DGATEWAY_WEB_DIRECTORY=C:\Gateway\web-test</code></p>

<p><code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml -DGATEWAY\_WEB\_DIRECTORY=/Users/johnsmith/Desktop/Gateway/web-test"</code></p>

<p><code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<h3 id="gatewaytempdirectory">GATEWAY_TEMP_DIRECTORY</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_CONFIG=C:\Gateway\conf\gateway-config.xml -DGATEWAY_TEMP_DIRECTORY=C:\Gateway\temp-test</code></p>

<p><code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml -DGATEWAY_TEMP_DIRECTORY=/Users/johnsmith/Desktop/Gateway/temp-test"</code></p>

<p><code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<h3 id="gatewaylogdirectory">GATEWAY_LOG_DIRECTORY</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_CONFIG=C:\Gateway\conf\gateway-config.xml -DGATEWAY_LOG_DIRECTORY=C:\Gateway\log</code></p>

<p><code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml -DGATEWAY_LOG_DIRECTORY=/Users/johnsmith/Desktop/Gateway/log"</code></p>

<p><code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<h3 id="gatewayuserlibdirectory">GATEWAY_USER_LIB_DIRECTORY</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_CONFIG=C:\Gateway\conf\gateway-config.xml -DGATEWAY_USER_LIB_DIRECTORY=C:\Gateway\lib</code></p>

<p><code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml -DGATEWAY\_USER\_LIB\_DIRECTORY=/Users/johnsmith/Desktop/Gateway/lib"</code></p>

<p><code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<h3 id="log4jconfig">LOG4J_CONFIG</h3>

<p>Windows Example:</p>

<p><code>&gt; SET GATEWAY_OPTS=-DGATEWAY_CONFIG=C:\Gateway\conf\gateway-config.xml -DLOG4J_CONFIG=C:\Gateway\log\log4j.xml</code></p>

<p><code>&gt; C:\Gateway\bin\gateway.start.bat</code></p>

<p>Mac Example:</p>

<p><code>$ export GATEWAY_OPTS="-DGATEWAY_CONFIG=gateway-config.xml -DLOG4J_CONFIG=/Users/johnsmith/Desktop/Gateway/log/log4j.xml"</code></p>

<p><code>$ /Users/johnsmith/Desktop/Gateway/bin/gateway.start</code></p>

<h2 id="see-also">See Also</h2>

<ul>
  <li><a href="../c_configure_gateway_concepts">About Gateway Configuration</a></li>
  <li><a href="../o_configure_gateway_checklist">Configure the Gateway</a></li>
  <li><a href="../../about/about/index.html">Documentation Conventions</a></li>
</ul>


</div>

</div>


    <footer>
  <div class="container">

    <div class="row text-center social-media">
      <a href="https://github.com/kaazing"><i class="fa fa-github" data-toggle="tooltip" data-placement="top" title="Github"></i></a>
      <a href="https://www.facebook.com/kaazing"><i class="fa fa-facebook" data-toggle="tooltip" data-placement="top" title="Facebook"></i></a>&nbsp;
      <a href="https://twitter.com/kaazing"><i class="fa fa-twitter" data-toggle="tooltip" data-placement="top" title="Twitter"></i></a>&nbsp;
      <a href="https://plus.google.com/+KaazingHome"><i class="fa fa-google-plus" data-toggle="tooltip" data-placement="top" title="Google Plus"></i></a>&nbsp;
      <a href="https://www.youtube.com/user/KaazingTV"><i class="fa fa-youtube" data-toggle="tooltip" data-placement="top" title="Youtube"></i></a>&nbsp;
      <a href="https://www.linkedin.com/company/kaazing-corporation"><i class="fa fa-linkedin" data-toggle="tooltip" data-placement="top" title="Linkedin"></i></a>&nbsp;
    </div>

    <div class="row copyright">
      <div class="col-xs-12 col-sm-5 text-left">
        &copy; 2007-2016 Kaazing Corporation
      </div>
      <div class="col-xs-12 col-sm-7 license">
        This website is licensed under <a href="//creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons BY-NC-SA</a>
      </div>
    </div>

  </div>
</footer>

<!-- start:javascript for this page -->










<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1771436-1', 'auto');
  ga('send', 'pageview');
  </script>
  <!-- end:javascript for this page -->


<script src="../../resources/permalink.js"></script>

<!-- search code -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'd1e3ab8cc2a230ef8270aeef0a05e584',
indexName: 'kaazing',
inputSelector: '.searchbox',
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
