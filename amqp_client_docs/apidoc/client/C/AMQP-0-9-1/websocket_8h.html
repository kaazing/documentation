<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>rabbitmq-c: websocket.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">rabbitmq-c
   &#160;<span id="projectnumber">0.5.3</span>
   </div>
   <div id="projectbrief">C AMQP Client library for RabbitMQ</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">websocket.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="websocket_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwebsocket__message__event__t.html">websocket_message_event_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structwebsocket__message__event__t.html" title="websocket_message_event_t struct.">websocket_message_event_t</a> struct.  <a href="structwebsocket__message__event__t.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct websocket_t_stct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_t is a struct refer to WebSocket object.  <a href="#a5cf81b4e3a851ceb384ebab7653d7a3c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a1d67cac49b750a9640661a2db97604c2">websocket_new</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_new Creates a websocket_t object.  <a href="#a1d67cac49b750a9640661a2db97604c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a9a646e9c2cf6eacd093309e5f191320f">websocket_free</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_free Frees websocket_t object from memory.  <a href="#a9a646e9c2cf6eacd093309e5f191320f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a9605731d31bd0fe4d96410a01f3137fd">websocket_connect</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, const char *location, const char *protocol, const char *extension)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_connect Connections with the server.  <a href="#a9605731d31bd0fe4d96410a01f3137fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a6d9d8473d56309794e2441de8192c218">websocket_send_text</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, const char *text)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_send_text Sends a NULL terminated string to server.  <a href="#a6d9d8473d56309794e2441de8192c218"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a3ec2269b8b8464d9c3b09e86aa4cdbf6">websocket_send_binary</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, const char *binary, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_send_binary Sends a binary block data to server.  <a href="#a3ec2269b8b8464d9c3b09e86aa4cdbf6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a05d63ba778502d855c3302750ad35ee1">websocket_send_binaryv</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, const struct iovec *iov, int iovcnt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_send_binaryv Sends multiple binary blocks data to server.  <a href="#a05d63ba778502d855c3302750ad35ee1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a191104920bffb1f67854df8d171a3bd7">websocket_close</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_close Disconnects with the server.  <a href="#a191104920bffb1f67854df8d171a3bd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#abe1ebcb752cc3880a0aac75802ac4548">websocket_close_with_reason</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, int code, const char *reason)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_close Disconnects with the server with code and reason.  <a href="#abe1ebcb752cc3880a0aac75802ac4548"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structwebsocket__message__event__t.html">websocket_message_event_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#aca026d3c98a38e1808133fa92d6c0ed5">websocket_recv</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_recv Receive data from the WebSocket connection.  <a href="#aca026d3c98a38e1808133fa92d6c0ed5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#ae6b77fc8b292be92940a2833d29e3797">websocket_url</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_url Gets the url of the connection.  <a href="#ae6b77fc8b292be92940a2833d29e3797"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a5868339637718f68c0a0c48b2d3862a8">websocket_readystate</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_readystate returns the readstate of the WebSocket connection.  <a href="#a5868339637718f68c0a0c48b2d3862a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a6332f6fec4c38b6eb0b2fb0021782cf1">websocket_protocol</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_protocol Gets names of all the enabled protocols that have been successfully negotiated between the client and the server during the initial handshake.  <a href="#a6332f6fec4c38b6eb0b2fb0021782cf1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#ad3af71eedfbf31b3fff2cf8d87ce18d2">websocket_extension</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_extension Gets names of all the enabled extensions that have been successfully negotiated between the client and the server during the initial handshake.  <a href="#ad3af71eedfbf31b3fff2cf8d87ce18d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a80b004c4250dee0fd19b10b8851aad68">websocket_ssl_set_cacert</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, const char *cacert)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_ssl_set_cacert Sets the ca certificate store for SSL WebSocket connection.  <a href="#a80b004c4250dee0fd19b10b8851aad68"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a2e0bc17bcca0ad4d4776068c0cd28d1c">websocket_ssl_set_clientkey</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, const char *cert, const char *key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_ssl_set_cacert Sets the client certificates and client key file for SSL WebSocket connection.  <a href="#a2e0bc17bcca0ad4d4776068c0cd28d1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="websocket_8h.html#a938f652bc0a97b9b3e49e1354a4949fa">websocket_ssl_set_verify_callback</a> (<a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *ws, int(*callback)(int preverify_ok, X509_STORE_CTX *ctx))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">websocket_ssl_set_verify_callback Sets the client verify callback function for SSL WebSocket connection.  <a href="#a938f652bc0a97b9b3e49e1354a4949fa"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"></div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a5cf81b4e3a851ceb384ebab7653d7a3c"></a><!-- doxytag: member="websocket.h::websocket_t" ref="a5cf81b4e3a851ceb384ebab7653d7a3c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct websocket_t_stct <a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_t is a struct refer to WebSocket object. </p>
<p>WebSocket provides bi-directional communications for text and binary messaging via the Kaazing Gateway. Refer to <a href="//www.w3.org/TR/websockets/">http://www.w3.org/TR/websockets/</a> for the published standard W3C WebSocket API specification. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a191104920bffb1f67854df8d171a3bd7"></a><!-- doxytag: member="websocket.h::websocket_close" ref="a191104920bffb1f67854df8d171a3bd7" args="(websocket_t *ws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a191104920bffb1f67854df8d171a3bd7">websocket_close</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_close Disconnects with the server. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int. 0 - successful, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="abe1ebcb752cc3880a0aac75802ac4548"></a><!-- doxytag: member="websocket.h::websocket_close_with_reason" ref="abe1ebcb752cc3880a0aac75802ac4548" args="(websocket_t *ws, int code, const char *reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#abe1ebcb752cc3880a0aac75802ac4548">websocket_close_with_reason</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_close Disconnects with the server with code and reason. </p>
<p>based on RFc-6455, WebSocket client can disconnect with its own data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">code</td><td>int close code that is sent to server. the code must equal to 1000 or in range 3000 to 4999 </td></tr>
    <tr><td class="paramname">reason</td><td>pointer of null terminated string that is sent to server, the reason length must be less than 127 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int. 0 - successful, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="a9605731d31bd0fe4d96410a01f3137fd"></a><!-- doxytag: member="websocket.h::websocket_connect" ref="a9605731d31bd0fe4d96410a01f3137fd" args="(websocket_t *ws, const char *location, const char *protocol, const char *extension)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a9605731d31bd0fe4d96410a01f3137fd">websocket_connect</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_connect Connections with the server. </p>
<p>Clients should call send/receive data when the connection has been established. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">location</td><td>pointer of null terminated string that contains url of server, for example "ws://echo.websocket.org" </td></tr>
    <tr><td class="paramname">protocol</td><td>pointer of null terminated string that contains client's protocol(s). NULL for no protocol. use comma separated format for multiple protocols. for example "protcol1,protocol2" </td></tr>
    <tr><td class="paramname">extension</td><td>pointer of null terminated string that contains client's extension(s). NULL for no protocol. use comma separated format for multiple protocols. for example "extension1 param1=10;param2=test,extension2" </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int. 0 - successful, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="ad3af71eedfbf31b3fff2cf8d87ce18d2"></a><!-- doxytag: member="websocket.h::websocket_extension" ref="ad3af71eedfbf31b3fff2cf8d87ce18d2" args="(websocket_t *ws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="websocket_8h.html#ad3af71eedfbf31b3fff2cf8d87ce18d2">websocket_extension</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_extension Gets names of all the enabled extensions that have been successfully negotiated between the client and the server during the initial handshake. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer of null terminated string that contains the extension(s). comma separated for multiple extensions </dd></dl>

</div>
</div>
<a class="anchor" id="a9a646e9c2cf6eacd093309e5f191320f"></a><!-- doxytag: member="websocket.h::websocket_free" ref="a9a646e9c2cf6eacd093309e5f191320f" args="(websocket_t *ws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="websocket_8h.html#a9a646e9c2cf6eacd093309e5f191320f">websocket_free</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_free Frees websocket_t object from memory. </p>
<p>Clients should always use websocket_free to deallocate websocket_t object instead of call free() directly. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>of websocket_t object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1d67cac49b750a9640661a2db97604c2"></a><!-- doxytag: member="websocket.h::websocket_new" ref="a1d67cac49b750a9640661a2db97604c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a>* <a class="el" href="websocket_8h.html#a1d67cac49b750a9640661a2db97604c2">websocket_new</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_new Creates a websocket_t object. </p>
<p>Clients should always use websocket_new to create websocket_t object instead of malloc directly. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>websocket_t object </dd></dl>

</div>
</div>
<a class="anchor" id="a6332f6fec4c38b6eb0b2fb0021782cf1"></a><!-- doxytag: member="websocket.h::websocket_protocol" ref="a6332f6fec4c38b6eb0b2fb0021782cf1" args="(websocket_t *ws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="websocket_8h.html#a6332f6fec4c38b6eb0b2fb0021782cf1">websocket_protocol</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_protocol Gets names of all the enabled protocols that have been successfully negotiated between the client and the server during the initial handshake. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer of null terminated string that contains the protocol(s). comma separated for multiple protocols </dd></dl>

</div>
</div>
<a class="anchor" id="a5868339637718f68c0a0c48b2d3862a8"></a><!-- doxytag: member="websocket.h::websocket_readystate" ref="a5868339637718f68c0a0c48b2d3862a8" args="(websocket_t *ws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a5868339637718f68c0a0c48b2d3862a8">websocket_readystate</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_readystate returns the readstate of the WebSocket connection. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the readystate of the WebSocket connection. 0 - connecting, 1 - open, 2 - closing, 3 - closed </dd></dl>

</div>
</div>
<a class="anchor" id="aca026d3c98a38e1808133fa92d6c0ed5"></a><!-- doxytag: member="websocket.h::websocket_recv" ref="aca026d3c98a38e1808133fa92d6c0ed5" args="(websocket_t *ws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwebsocket__message__event__t.html">websocket_message_event_t</a>* <a class="el" href="websocket_8h.html#aca026d3c98a38e1808133fa92d6c0ed5">websocket_recv</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_recv Receive data from the WebSocket connection. </p>
<p>Client calls websocket_recv to retrieve data that was sent from server. This function is a block call. It returns when there is data available on the WebSocket connection. If the connection is disconnected, then a message event with type equals to CLOSED will be returned. After CLOSED event, call websocket_recv will return NULL. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">code</td><td>int close code that is sent to server. the code must equal to 1000 or in range 3000 to 4999 </td></tr>
    <tr><td class="paramname">rason</td><td>pointer of null terminated string that is sent to server, the reason length must be less than 127 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int. 0 - successful, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="a3ec2269b8b8464d9c3b09e86aa4cdbf6"></a><!-- doxytag: member="websocket.h::websocket_send_binary" ref="a3ec2269b8b8464d9c3b09e86aa4cdbf6" args="(websocket_t *ws, const char *binary, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a3ec2269b8b8464d9c3b09e86aa4cdbf6">websocket_send_binary</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_send_binary Sends a binary block data to server. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">binary</td><td>pointer of binary block that is sent to server. </td></tr>
    <tr><td class="paramname">int</td><td>size length of binary block that is sent to server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int. 0 - successful, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="a05d63ba778502d855c3302750ad35ee1"></a><!-- doxytag: member="websocket.h::websocket_send_binaryv" ref="a05d63ba778502d855c3302750ad35ee1" args="(websocket_t *ws, const struct iovec *iov, int iovcnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a05d63ba778502d855c3302750ad35ee1">websocket_send_binaryv</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct iovec *&#160;</td>
          <td class="paramname"><em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iovcnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_send_binaryv Sends multiple binary blocks data to server. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">iov</td><td>pointer of struct iovec that is sent to server. please refer to sys/uio.h for details about iovec </td></tr>
    <tr><td class="paramname">int</td><td>iovcnt size of iovec array that is sent to server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int. 0 - successful, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="a6d9d8473d56309794e2441de8192c218"></a><!-- doxytag: member="websocket.h::websocket_send_text" ref="a6d9d8473d56309794e2441de8192c218" args="(websocket_t *ws, const char *text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a6d9d8473d56309794e2441de8192c218">websocket_send_text</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_send_text Sends a NULL terminated string to server. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">text</td><td>pointer of null terminated string that is sent to server, for example "hello websocket" </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int. 0 - successful, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="a80b004c4250dee0fd19b10b8851aad68"></a><!-- doxytag: member="websocket.h::websocket_ssl_set_cacert" ref="a80b004c4250dee0fd19b10b8851aad68" args="(websocket_t *ws, const char *cacert)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a80b004c4250dee0fd19b10b8851aad68">websocket_ssl_set_cacert</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cacert</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_ssl_set_cacert Sets the ca certificate store for SSL WebSocket connection. </p>
<p>this function sets the client ca certificate store. refer to openssl document for details. Client should call this function before calling <a class="el" href="websocket_8h.html#a9605731d31bd0fe4d96410a01f3137fd" title="websocket_connect Connections with the server.">websocket_connect()</a> </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">cacert</td><td>point to the ca cert file location </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int 0 - success, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="a2e0bc17bcca0ad4d4776068c0cd28d1c"></a><!-- doxytag: member="websocket.h::websocket_ssl_set_clientkey" ref="a2e0bc17bcca0ad4d4776068c0cd28d1c" args="(websocket_t *ws, const char *cert, const char *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a2e0bc17bcca0ad4d4776068c0cd28d1c">websocket_ssl_set_clientkey</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_ssl_set_cacert Sets the client certificates and client key file for SSL WebSocket connection. </p>
<p>This function sets the client certificate file and key file. refer to openssl document for details. Client should call this function before calling <a class="el" href="websocket_8h.html#a9605731d31bd0fe4d96410a01f3137fd" title="websocket_connect Connections with the server.">websocket_connect()</a> </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">cert</td><td>point to the client cert file location </td></tr>
    <tr><td class="paramname">key</td><td>point to the client key file location </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int 0 - success, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="a938f652bc0a97b9b3e49e1354a4949fa"></a><!-- doxytag: member="websocket.h::websocket_ssl_set_verify_callback" ref="a938f652bc0a97b9b3e49e1354a4949fa" args="(websocket_t *ws, int(*callback)(int preverify_ok, X509_STORE_CTX *ctx))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="websocket_8h.html#a938f652bc0a97b9b3e49e1354a4949fa">websocket_ssl_set_verify_callback</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(int preverify_ok, X509_STORE_CTX *ctx)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_ssl_set_verify_callback Sets the client verify callback function for SSL WebSocket connection. </p>
<p>This function sets the client verify callback function . refer to openssl document for details. Client should call this function before calling <a class="el" href="websocket_8h.html#a9605731d31bd0fe4d96410a01f3137fd" title="websocket_connect Connections with the server.">websocket_connect()</a> </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
    <tr><td class="paramname">callback</td><td>point to client verify callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int 0 - success, 1 - failed </dd></dl>

</div>
</div>
<a class="anchor" id="ae6b77fc8b292be92940a2833d29e3797"></a><!-- doxytag: member="websocket.h::websocket_url" ref="ae6b77fc8b292be92940a2833d29e3797" args="(websocket_t *ws)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="websocket_8h.html#ae6b77fc8b292be92940a2833d29e3797">websocket_url</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="websocket_8h.html#a5cf81b4e3a851ceb384ebab7653d7a3c">websocket_t</a> *&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>websocket_url Gets the url of the connection. </p>
<p>this function returns the final url of the WebSocket. note: when client connect to kaazing gateway with balancer service. the final url may be different from the original url that client used when connect. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>pointer of websocket_t object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer of null terminated string that contains the final url </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 26 2014 23:38:34 for rabbitmq-c by &#160;<a href="//www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

<script src="../../resources/permalink.js"></script>

<!-- search code -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'd1e3ab8cc2a230ef8270aeef0a05e584',
indexName: 'kaazing',
inputSelector: '.searchbox',
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
